.container.top-margin#campaign-dash
  .content-box
    %h1.inline-block
      = @campaign.name
    .inline-block.pull-right
      = link_to "Template", "javascript:void(0)", class: "btn btn-primary", id: "show-template-btn"
      = link_to "Data", "javascript:void(0)", class: "btn btn-primary", id: "show-data-btn"
    %hr
    .content-body
      #template
        .row
          .col.col-md-9
            = text_area_tag "Email template", @campaign.template, class: "quill_container", id: "campaign-template"
          .col.col-md-3
            .card.mb-3{:style => "max-width: 20rem; height: 345px;"}
              .card-header Variables
              .card-body#variables
                - parameterized_headers(@campaign.data). each do |header|
                  .badge.badge-primary
                    = header
                    

      #data{style: "display: none"}
        - if @campaign.data.blank?
          %h4 Upload Data
          = form_tag upload_campaign_path(@campaign), :multipart => true do |f|
            .form-group
              = file_field_tag "csv_data", class: "form-control-file", accept: ".csv", required: true
            = submit_tag "Upload", class: "btn btn-primary"
        - else
          .data-table
            = render "campaigns/data", rows: parse_data(@campaign.data), headers: parse_headers(@campaign.data)
